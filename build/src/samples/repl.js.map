{"version":3,"file":"repl.js","sourceRoot":"","sources":["../../../src/samples/repl.ts"],"names":[],"mappings":";;AAAA,0CAAkE;AAClE,8CAA8C;AAE9C,SAAgB,IAAI,CAChB,QAAgB,EAChB,UAAkB,EAClB,cAAsB,EACtB,cAAsB;IAEtB,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;IAC/C,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;IACtC,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;IACnC,OAAO,CAAC,GAAG,EAAE,CAAC;IAEd,MAAM,QAAQ,GAAG,IAAI,mBAAQ,CAAC,QAAQ,EAAE,UAAU,EAAE,cAAc,EAAE,cAAc,CAAC,CAAC;IAEpF,OAAO,IAAI,EAAE;QACT,MAAM,IAAI,GAAG,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACnB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,MAAM;SACT;QAED,OAAO,CAAC,GAAG,EAAE,CAAC;QAEd,MAAM,MAAM,GAAG,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC9C,MAAM,CAAC,OAAO,CAAC,qBAAU,CAAC,CAAC;QAE3B,OAAO,CAAC,GAAG,EAAE,CAAC;KACjB;AACL,CAAC;AA3BD,oBA2BC;AAED,SAAgB,OAAO;IACnB,IAAI,CACA,8BAA8B,EAC9B,iCAAiC,EACjC,oCAAoC,EACpC,qCAAqC,CAAC,CAAC;AAC/C,CAAC;AAND,0BAMC","sourcesContent":["import { Pipeline, printToken, tokenToString } from '../pipeline';\nimport * as readlineSync from 'readline-sync';\n\nexport function repl(\n    menuFile: string,\n    intentFile: string,\n    attributesFile: string,\n    quantifierFile: string\n) {\n    console.log('Welcome to the ShortOrder REPL.');\n    console.log('Type your order below.');\n    console.log('A blank line exits.');\n    console.log();\n\n    const pipeline = new Pipeline(menuFile, intentFile, attributesFile, quantifierFile);\n\n    while (true) {\n        const line = readlineSync.question('% ');\n        if (line.length === 0) {\n            console.log('bye');\n            break;\n        }\n\n        console.log();\n\n        const tokens = pipeline.processOneQuery(line);\n        tokens.forEach(printToken);\n\n        console.log();\n    }\n}\n\nexport function runRepl() {\n    repl(\n        './src/samples/data/menu.yaml',\n        './src/samples/data/intents.yaml',\n        './src/samples/data/attributes.yaml',\n        './src/samples/data/quantifiers.yaml');\n}\n"]}