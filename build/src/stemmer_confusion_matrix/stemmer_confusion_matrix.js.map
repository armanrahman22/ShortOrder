{"version":3,"file":"stemmer_confusion_matrix.js","sourceRoot":"","sources":["../../../src/stemmer_confusion_matrix/stemmer_confusion_matrix.ts"],"names":[],"mappings":";;AAGA,SAAgB,sBAAsB,CAAC,UAAsB,EAAE,OAAwB;IACnF,MAAM,MAAM,GAAgC,EAAE,CAAC;IAE/C,UAAU,CAAC,KAAK,EAAE,CAAC,OAAO,CAAE,IAAI,CAAC,EAAE;QAC/B,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACjC,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE;YAC/B,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,GAAG,EAAU,CAAC;SACvC;QACD,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE;QAC5C,IAAI,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE;YAChB,MAAM,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,OAAO,MAAM,GAAG,CAAC,CAAC;SACxC;IACL,CAAC,CAAC,CAAC;AACP,CAAC;AAlBD,wDAkBC","sourcesContent":["import { Recognizer, StemmerFunction } from '../tokenizer';\n\n\nexport function stemmerConfusionMatrix(recognizer: Recognizer, stemmer: StemmerFunction) {\n    const matrix: {[term:string]:Set<string>} = {};\n\n    recognizer.terms().forEach( term => {\n        const lower = term.toLowerCase();\n        const stemmed = stemmer(lower);\n        if (matrix[stemmed] === undefined) {\n            matrix[stemmed] = new Set<string>();\n        }\n        matrix[stemmed].add(lower);\n    });\n\n    Object.entries(matrix).forEach(([key, value]) => {\n        if (value.size > 1) {\n            const values = [...value].join(',');\n            console.log(`\"${key}\": [${values}]`);\n        }\n    });\n}\n\n"]}