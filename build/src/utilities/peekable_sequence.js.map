{"version":3,"file":"peekable_sequence.js","sourceRoot":"","sources":["../../../src/utilities/peekable_sequence.ts"],"names":[],"mappings":";;AAAA,MAAa,gBAAgB;IAI3B,YAAY,QAA6B;QACvC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACtC,CAAC;IAED,IAAI;QACF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACtB,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;SAC3B;aAAM;YACL,MAAM,SAAS,CAAC,+CAA+C,CAAC,CAAC;SAClE;IACH,CAAC;IAED,GAAG;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACtB,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YACpC,OAAO,KAAK,CAAC;SACd;aAAM;YACL,MAAM,SAAS,CAAC,8CAA8C,CAAC,CAAC;SACjE;IACH,CAAC;IAED,KAAK;QACH,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;IAC3B,CAAC;CACF;AA9BD,4CA8BC","sourcesContent":["export class PeekableSequence<T> {\n  iterator: IterableIterator<T>;\n  current: IteratorResult<T>;\n\n  constructor(iterator: IterableIterator<T>) {\n    this.iterator = iterator;\n    this.current = this.iterator.next();\n  }\n\n  peek(): T {\n    if (!this.current.done) {\n      return this.current.value;\n    } else {\n      throw TypeError('PeekableSequence<T>.peek(): at end of stream.');\n    }\n  }\n\n  get(): T {\n    if (!this.current.done) {\n      const value = this.current.value;\n      this.current = this.iterator.next();\n      return value;\n    } else {\n      throw TypeError('PeekableSequence<T>.get(): at end of stream.');\n    }\n  }\n\n  atEOF(): boolean {\n    return this.current.done;\n  }\n}\n"]}